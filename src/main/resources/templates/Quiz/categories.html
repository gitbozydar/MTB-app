<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Quiz App - Kategorie</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Style dla trybu jasnego */
    body.light-mode { background:#f8f9fa; color:#212529; }
    /* Style dla trybu ciemnego */
    body.dark-mode { background:#1a1a1a; color:white; }

    .navbar-custom { background-color: #6f42c1 !important; padding: 0.5rem 1rem; }

    .category-card {
      transition: 0.3s; cursor: pointer; border-radius: 15px;
      text-align: center; display: flex; flex-direction: column;
      justify-content: center; min-height: 160px;
    }

    /* Jasny tryb kafelki */
    body.light-mode .category-card { background: white; color: #212529; border: 1px solid #ddd; }
    body.light-mode .category-card:hover { background: #f1f1f1; transform: translateY(-10px); }

    /* Ciemny tryb kafelki */
    body.dark-mode .category-card { background: #2e2e2e; color: white; border: 1px solid #444; }
    body.dark-mode .category-card:hover { background: #3a3a3a; transform: translateY(-10px); }

    .emoji { font-size: 2.8rem; margin-bottom: 10px; }

    /* Wyr贸wnanie przycisk贸w w navbarze */
    .navbar-actions { display: flex; gap: 10px; align-items: center; }
  </style>
</head>
<body id="body">

<nav class="navbar navbar-dark navbar-custom shadow-sm mb-5">
  <div class="container-fluid">
    <span class="navbar-brand fw-bold">Quiz App</span>

    <div class="navbar-actions">
      <a href="/Quiz/change-password" class="btn btn-outline-warning btn-sm">Zmie haso</a>

      <form th:action="@{/logout}" method="post" style="margin:0;">
        <button class="btn btn-danger btn-sm">Wyloguj</button>
      </form>

      <button id="toggleMode" class="btn btn-outline-light btn-sm">Tryb jasny</button>
    </div>
  </div>
</nav>

<div class="container">
  <h2 class="text-center mb-5">Wybierz kategori i sprawd藕 swoj wiedz!</h2>
  <div class="row g-4 text-center">
    <div class="col-md-4">
      <a href="/Quiz/solve/Filmy" class="text-decoration-none">
        <div class="card category-card shadow p-4">
          <div class="emoji"></div>
          <h3>Filmy</h3>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a href="/Quiz/solve/Gry" class="text-decoration-none">
        <div class="card category-card shadow p-4">
          <div class="emoji"></div>
          <h3>Gry</h3>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a href="/Quiz/solve/Geografia" class="text-decoration-none">
        <div class="card category-card shadow p-4">
          <div class="emoji"></div>
          <h3>Geografia</h3>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a href="/Quiz/solve/Informatyka" class="text-decoration-none">
        <div class="card category-card shadow p-4">
          <div class="emoji"></div>
          <h3>Informatyka</h3>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a href="/Quiz/solve/Historia" class="text-decoration-none">
        <div class="card category-card shadow p-4">
          <div class="emoji"></div>
          <h3>Historia</h3>
        </div>
      </a>
    </div>
    <div class="col-md-4">
      <a href="/Quiz/solve/Wiedza Og贸lna" class="text-decoration-none">
        <div class="card category-card shadow p-4">
          <div class="emoji"></div>
          <h3>Og贸lna</h3>
        </div>
      </a>
    </div>
  </div>
  <div class="text-center mt-5">
    <a href="/Quiz/ranking" class="btn btn-warning btn-lg px-5 shadow"> Ranking Globalny</a>
  </div>
</div>

<script>
  const body = document.getElementById("body");
  const toggleBtn = document.getElementById("toggleMode");

  function updateTheme(theme) {
    if (theme === "dark") {
      body.classList.remove("light-mode");
      body.classList.add("dark-mode");
      toggleBtn.textContent = "Tryb jasny";
    } else {
      body.classList.remove("dark-mode");
      body.classList.add("light-mode");
      toggleBtn.textContent = "Tryb ciemny";
    }
  }

  // Inicjalizacja przy adowaniu
  const currentTheme = localStorage.getItem("quiz_theme") || "dark";
  updateTheme(currentTheme);

  toggleBtn.onclick = () => {
    const newTheme = body.classList.contains("light-mode") ? "dark" : "light";
    localStorage.setItem("quiz_theme", newTheme);
    updateTheme(newTheme);
  };
</script>
</body>
</html>