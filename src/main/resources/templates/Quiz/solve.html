<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body.dark-mode { background: #121212 !important; color: #ffffff !important; }
    body.dark-mode .quiz-container { background: #1e1e1e !important; color: #ffffff !important; border: 1px solid #333 !important; }
    body.dark-mode h1, body.dark-mode p, body.dark-mode label { color: #ffffff !important; }

    /* Przyciski odpowiedzi w trybie ciemnym */
    body.dark-mode .btn-outline-secondary { color: #ffffff !important; border-color: #444 !important; }
    body.dark-mode .btn-outline-secondary:hover { background: #333 !important; }

    .quiz-container { padding: 40px; border-radius: 15px; max-width: 850px; margin: 50px auto; }
    .q-box { border-bottom: 1px solid #444; padding: 20px 0; }
    .btn-check:checked + .btn-outline-secondary { background: #6f42c1 !important; border-color: #6f42c1 !important; color: white !important; }

    body.light-mode { background: #f8f9fa; color: #212529; }
    body.light-mode .quiz-container { background: white; border: 1px solid #ddd; }
  </style>
</head>
<body id="body">

<div class="quiz-container shadow">
  <h1 class="text-info mb-4 fw-bold" th:text="${category}"></h1>
  <form th:action="@{/Quiz/submit}" method="post">
    <div th:each="q, s : ${questions}" class="q-box">
      <p class="fw-bold fs-5" th:text="${s.index+1} + '. ' + ${q.content}"></p>
      <div class="btn-group-vertical w-100" role="group">
        <input type="radio" class="btn-check" th:name="'q_' + ${q.id}" th:id="'q' + ${q.id} + 'a'" value="A" required>
        <label class="btn btn-outline-secondary text-start mb-2" th:for="'q' + ${q.id} + 'a'" th:text="'A) ' + ${q.optionA}"></label>

        <input type="radio" class="btn-check" th:name="'q_' + ${q.id}" th:id="'q' + ${q.id} + 'b'" value="B">
        <label class="btn btn-outline-secondary text-start mb-2" th:for="'q' + ${q.id} + 'b'" th:text="'B) ' + ${q.optionB}"></label>

        <input type="radio" class="btn-check" th:name="'q_' + ${q.id}" th:id="'q' + ${q.id} + 'c'" value="C">
        <label class="btn btn-outline-secondary text-start mb-2" th:for="'q' + ${q.id} + 'c'" th:text="'C) ' + ${q.optionC}"></label>

        <input type="radio" class="btn-check" th:name="'q_' + ${q.id}" th:id="'q' + ${q.id} + 'd'" value="D">
        <label class="btn btn-outline-secondary text-start mb-2" th:for="'q' + ${q.id} + 'd'" th:text="'D) ' + ${q.optionD}"></label>
      </div>
    </div>
    <button class="btn btn-success btn-lg w-100 mt-4 shadow">Wy≈õlij odpowiedzi</button>
  </form>
</div>

<script>
  const savedTheme = localStorage.getItem("quiz_theme") || "dark";
  document.getElementById("body").className = savedTheme + "-mode";
</script>
</body>
</html>